<!DOCTYPE html>
<html lang="en">
  <head>
 <style>
 table.dataTable.table-striped > tbody > tr.odd > *{
  color:#0b375e;
 }
 .heading{
  color:#0b375e;
 }
  .table-striped tbody tr {
  width: 1333px;
  height: 90px;
  }
 .table-striped tbody tr:nth-of-type(odd) {
    background: rgba(222, 213, 204, 0.2);
   
  }
  div.dataTables_wrapper div.dataTables_length select{
    box-shadow:none;
  }
  td {
    text-align: center;
    vertical-align: middle;
    color:#0b375e;
    text-decoration:none;
    font-family: 'Ubuntu';
    font-size:18px;
    font-weight:lighter;
  }
  
  th{
     
  color:#0b375e;
 }
 .badge{
  color:#0b375e;
    text-decoration:none;
    font-family: 'Ubuntu';
    font-size:18px;
    font-weight:lighter;
 }
 /* Pagination links*/
.dataTables_wrapper .dataTables_paginate .pagination .page-item .page-link {
  /* padding: 0.5rem 0.75rem;
  margin: 0 0.25rem; 
  font-size: 0.875rem;
  line-height: 1.5;/*/
  border-radius: 0.25rem; 
  color: #0b375e;
  /* border: 1px solid #007bff; */
  background-color: #fff;
}

.dataTables_wrapper .dataTables_paginate .pagination .page-item .page-link:hover {
  background-color:#0b375e ;
  color: #fff;
}

.dataTables_wrapper .dataTables_paginate .pagination .page-item.active .page-link {
  background-color: #0b375e;
  color: #fff;
  /* border-color: #007bff; */
  border:none;
}
.dataTables_info{
  color:#0b375e;
}
 </style>
  </head>
  <body>

<%# <%= render "navbar" %>

<div class="container-fluid mt-4">
  <h1 class="text-center heading">Submissions</h1>
  <div class="row justify-content-end">
    <div class="col-md-2">
      <%= content_tag :div, class: "dropdown" do %>
        <%= button_tag "Type", type: "button", class: "btn btn-secondary dropdown-toggle m-1", data: { bs_toggle: "dropdown" }, aria: { expanded: "false" } %>
        <%= content_tag :ul, class: "dropdown-menu dropdown-menu-right" do %>
          <li><%= link_to "All Exercises", exercises_path, class: "dropdown-item" %></li>
          <li><%= link_to "CLF Exercises", exercises_path(type: "CFL"), class: "dropdown-item" %></li>
          <li><%= link_to "FA Exercises", exercises_path(type: "FA"), class: "dropdown-item" %></li>
          <li><%= link_to "grammar Exercises", exercises_path(type: "grammar"), class: "dropdown-item" %></li>
          <li><%= link_to "PDA Exercises", exercises_path(type: "PDA"), class: "dropdown-item" %></li>
          <li><%= link_to "Regular Exercises", exercises_path(type: "Regular"), class: "dropdown-item" %></li>
          <li><%= link_to "TM Exercises", exercises_path(type: "TM"), class: "dropdown-item" %></li>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="table-responsive">
    <table id="table" class="table table-striped">
      <thead class="thead-light">
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Created By</th>
          <th>Created At</th>
          <th>Submissions</th>
        </tr>
      </thead>
      <tbody>
        <% @exercises.each do |exercise| %>
          <tr>
            <td><%= link_to exercise.title , exercise%></td>
            <td><%= exercise.exercise_type%></td>
            <td><%= exercise.user.email%></td>
            <td><%= exercise.created_at%></td>
            <td><%= link_to Submission.where(exercise_id: exercise.id).count, exercise_submissions_path(exercise), class: "badge" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<script>
  $(document).ready(function () {
    $('#table').DataTable({
      // Disable the searching 
      // of the DataTable
      searching: false
    });
  });
</script>

</body>
</html>